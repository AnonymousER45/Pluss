{% extends 'base.html' %}
{% load static %}
{% block extrahead %}
<!-- Font Awesome -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--Font-->
<link href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&display=swap" rel="stylesheet">

<!--Css-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="{% static 'slick/slick.css' %}" />
<!-- Custom StyleSheet -->
<link rel="stylesheet" href="{% static 'css/reset.css' %}" />
<link rel="stylesheet" href="{% static 'css/style.css' %}" />

<title>PLUSCROWN PRIVATE LIMITED</title>
{% endblock %}
{% block content %}
 <div class="content-wrap lgn">
      <div class="login-wrapper">
        <div class="container-fluid">
          <div class="lw-forms">
            <div class="lw-wrap" id="lw-signup-form">
              <div class="lw-left">
                <p class="lw-title">Sign Up</p>
                <p>You seem new Here?<br>Create account for easy order placing, for Recommendations, Payment, etc.</p>

              </div>
              <div class="lw-right">
            <form method=POST>{% csrf_token %}
              <div class="col-xs-12">
                {{ form.username }}
              </div>
              <div class="col-xs-12">
                {{ form.email }}
              </div>
              <div class="col-xs-12">
                {{ form.phone_number}}
              </div>
              <div class="col-xs-12">
                {{ form.password }}
                <span toggle="#password-field1" class="fa fa-eye-slash fa-fw field-icon toggle-password"></span>
              </div>
              <div class="col-xs-12">
                {{ form.password2 }}
                <span toggle="#password-field2" class="fa fa-eye-slash fa-fw field-icon toggle-password"></span>
              </div>
              <div class="col-xs-12">
                {{ form.pincode }}
              </div>
              <div class="col-xs-12">
                <input type="checkbox" style="margin-right: 5px;" name="deafaultadd"> I  agree with the Privacy Policy and Terms & Conditions.
              </div>
              <div class="col-xs-12 login-button">
                <input type="submit" name="signup" value="Sign UP">
              </div>
            </form>
             {% for error in field.errors %}
                  <p> {{ error }} </p>
                {% endfor %}

          </div>

            </div>
          </div>
        </div>
      </div>
      <a href="#" id="scroll" style="display: none;"><img src="imgs/back-to-top.png" alt="Back to Top" title="Back to Top"></a>
    </div>
<script>
  /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
//We start indexing at one because CSRF_token is considered and input field
*/

  //Query All input fields

  const placeholders = ['Username.....','Email...', 'Phone No...', 'Enter password...', 'Re-enter Password...', 'Pincode...']

  var form_fields = document.getElementsByTagName('input');
  if (form_fields.length >= placeholders.length) {
    for (var i = 6; i <= 10; i++) {
      form_fields[i].placeholder = placeholders[i - 6];
    }
  }

  var passwordTogglers = document.getElementsByClassName('toggle-password');

  function TogglePasswordVisibility(elem, toggleBtn) {
    let currentVisibility = toggleBtn.classList.contains('fa-eye-slash'); // visible
    if (currentVisibility) {
      elem.type = 'text';
    } else {
      elem.type = 'password';
    }
  }


  passwordTogglers[0].addEventListener('click', () => { TogglePasswordVisibility(form_fields[9], passwordTogglers[0]) });
  passwordTogglers[1].addEventListener('click', () => { TogglePasswordVisibility(form_fields[10], passwordTogglers[1]) });



</script>
{% endblock %}